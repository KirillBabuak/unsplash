{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/softarex-093/Documents/unsplash/src/pages/Photos/Search.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Input, AutoComplete } from 'antd';\nimport { useDispatch } from \"react-redux\";\nimport { setSearch } from '../../reducers/photos.reducer';\nimport { getSearchResults, updateSearchResults } from \"../../helpers/photos.helper\";\n\nconst Search = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [options, setOptions] = useState([]);\n  const [isShowRequests, setIsShowRequests] = useState(false);\n\n  const onSearch = (value, e) => {\n    e === null || e === void 0 ? void 0 : e.stopPropagation(); // it's need for prevent open search results\n\n    onChangeShowRequest(false);\n    dispatch(setSearch(value));\n    updateSearchResults(value);\n  };\n\n  const onChangeShowRequest = value => {\n    if (isShowRequests !== value) {\n      setIsShowRequests(value);\n    }\n  };\n\n  const setInputOptions = () => {\n    const searchResults = getSearchResults();\n    onChangeShowRequest(true);\n    const optionsValues = searchResults.map((value, index) => ({\n      key: index,\n      value,\n      label: value\n    }));\n    setOptions(optionsValues);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AutoComplete, {\n    dropdownMatchSelectWidth: 252,\n    style: {\n      width: 300\n    },\n    options: options,\n    onFocus: setInputOptions,\n    onChange: setInputOptions,\n    onBlur: () => onChangeShowRequest(false),\n    open: isShowRequests,\n    children: /*#__PURE__*/_jsxDEV(Input.Search, {\n      size: \"large\",\n      placeholder: \"Search Photos\",\n      enterButton: true,\n      onSearch: onSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Search, \"fFheDMoUwNTnz9Cpmg8f2LYFeBw=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/softarex-093/Documents/unsplash/src/pages/Photos/Search.tsx"],"names":["React","useState","Input","AutoComplete","useDispatch","setSearch","getSearchResults","updateSearchResults","Search","dispatch","options","setOptions","isShowRequests","setIsShowRequests","onSearch","value","e","stopPropagation","onChangeShowRequest","setInputOptions","searchResults","optionsValues","map","index","key","label","width"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,KAAR,EAAeC,YAAf,QAA+C,MAA/C;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,SAAR,QAAwB,+BAAxB;AACA,SAAQC,gBAAR,EAA0BC,mBAA1B,QAAoD,6BAApD;;AAEA,MAAMC,MAAM,GAAG,MAAmB;AAAA;;AAC9B,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAiC,EAAjC,CAAtC;AACA,QAAM,CAACW,cAAD,EAAiBC,iBAAjB,IAAsCZ,QAAQ,CAAU,KAAV,CAApD;;AAEA,QAAMa,QAAQ,GAAG,CAACC,KAAD,EAAgBC,CAAhB,KAAqJ;AAClKA,IAAAA,CAAC,SAAD,IAAAA,CAAC,WAAD,YAAAA,CAAC,CAAEC,eAAH,GADkK,CAC7I;;AACrBC,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAEAT,IAAAA,QAAQ,CAACJ,SAAS,CAACU,KAAD,CAAV,CAAR;AAEAR,IAAAA,mBAAmB,CAACQ,KAAD,CAAnB;AACH,GAPD;;AASA,QAAMG,mBAAmB,GAAIH,KAAD,IAAoB;AAC5C,QAAGH,cAAc,KAAIG,KAArB,EAA2B;AACvBF,MAAAA,iBAAiB,CAACE,KAAD,CAAjB;AACH;AACJ,GAJD;;AAMA,QAAMI,eAAe,GAAG,MAAY;AAChC,UAAMC,aAAa,GAAGd,gBAAgB,EAAtC;AACAY,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACA,UAAMG,aAAa,GAAGD,aAAa,CAACE,GAAd,CAAkB,CAACP,KAAD,EAAQQ,KAAR,MAAmB;AAACC,MAAAA,GAAG,EAAED,KAAN;AAAaR,MAAAA,KAAb;AAAoBU,MAAAA,KAAK,EAAEV;AAA3B,KAAnB,CAAlB,CAAtB;AAEAJ,IAAAA,UAAU,CAACU,aAAD,CAAV;AACH,GAND;;AAQA,sBAAO,QAAC,YAAD;AACH,IAAA,wBAAwB,EAAE,GADvB;AAEH,IAAA,KAAK,EAAE;AAACK,MAAAA,KAAK,EAAE;AAAR,KAFJ;AAGH,IAAA,OAAO,EAAEhB,OAHN;AAIH,IAAA,OAAO,EAAES,eAJN;AAKH,IAAA,QAAQ,EAAEA,eALP;AAMH,IAAA,MAAM,EAAE,MAAID,mBAAmB,CAAC,KAAD,CAN5B;AAOH,IAAA,IAAI,EAAEN,cAPH;AAAA,2BASH,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,WAAW,EAAC,eAAvC;AAAuD,MAAA,WAAW,MAAlE;AAAmE,MAAA,QAAQ,EAAEE;AAA7E;AAAA;AAAA;AAAA;AAAA;AATG;AAAA;AAAA;AAAA;AAAA,UAAP;AAWH,CAvCD;;GAAMN,M;UACeJ,W;;;KADfI,M;AAyCN,eAAeA,MAAf","sourcesContent":["import React, {useState} from 'react';\nimport {Input, AutoComplete, SelectProps} from 'antd';\nimport {useDispatch} from \"react-redux\";\nimport {setSearch} from '../../reducers/photos.reducer';\nimport {getSearchResults, updateSearchResults} from \"../../helpers/photos.helper\";\n\nconst Search = (): JSX.Element => {\n    const dispatch = useDispatch();\n    const [options, setOptions] = useState<SelectProps<object>['options']>([]);\n    const [isShowRequests, setIsShowRequests] = useState<boolean>(false);\n\n    const onSearch = (value: string, e: React.ChangeEvent<HTMLInputElement> | React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLInputElement> | undefined): void => {\n        e?.stopPropagation() // it's need for prevent open search results\n        onChangeShowRequest(false)\n\n        dispatch(setSearch(value))\n\n        updateSearchResults(value);\n    };\n\n    const onChangeShowRequest = (value: boolean) => {\n        if(isShowRequests !==value){\n            setIsShowRequests(value)\n        }\n    }\n\n    const setInputOptions = (): void => {\n        const searchResults = getSearchResults();\n        onChangeShowRequest(true);\n        const optionsValues = searchResults.map((value, index) => ({key: index, value, label: value}))\n\n        setOptions(optionsValues)\n    }\n\n    return <AutoComplete\n        dropdownMatchSelectWidth={252}\n        style={{width: 300}}\n        options={options}\n        onFocus={setInputOptions}\n        onChange={setInputOptions}\n        onBlur={()=>onChangeShowRequest(false)}\n        open={isShowRequests}\n    >\n        <Input.Search size=\"large\" placeholder=\"Search Photos\" enterButton onSearch={onSearch}/>\n    </AutoComplete>\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}