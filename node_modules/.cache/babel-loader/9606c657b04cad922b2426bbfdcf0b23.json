{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/softarex-093/Documents/unsplash/src/pages/Photos/Search.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Input, AutoComplete } from 'antd';\nimport { useDispatch } from \"react-redux\";\nimport { setSearch } from '../../reducers/photos.reducer';\nimport { getSearchResults, updateSearchResults } from \"../../helpers/photos.helper\";\n\nconst Search = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [options, setOptions] = useState([]);\n\n  const onSearch = (value, event) => {\n    console.log('event', event);\n    event === null || event === void 0 ? void 0 : event.stopPropagation(); // it's need for prevent open search results\n\n    setOptions([]);\n    dispatch(setSearch(value));\n    updateSearchResults(value);\n  };\n\n  const setInputOptions = () => {\n    if (options === null || options === void 0 ? void 0 : options.length) {\n      return;\n    }\n\n    const searchResults = getSearchResults();\n    const optionsValues = searchResults.map((value, index) => ({\n      key: index,\n      value,\n      label: value\n    }));\n    setOptions(optionsValues);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AutoComplete, {\n    dropdownMatchSelectWidth: 252,\n    style: {\n      width: 300\n    },\n    options: options,\n    onFocus: setInputOptions,\n    onChange: setInputOptions,\n    onBlur: () => setOptions([]),\n    children: /*#__PURE__*/_jsxDEV(Input.Search, {\n      size: \"large\",\n      placeholder: \"Search Photos\",\n      enterButton: true,\n      allowClear: true,\n      onSearch: onSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Search, \"0gLYdXmQJbNffKzLiMQWZal9oEQ=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/softarex-093/Documents/unsplash/src/pages/Photos/Search.tsx"],"names":["React","useState","Input","AutoComplete","useDispatch","setSearch","getSearchResults","updateSearchResults","Search","dispatch","options","setOptions","onSearch","value","event","console","log","stopPropagation","setInputOptions","length","searchResults","optionsValues","map","index","key","label","width"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,KAAR,EAAeC,YAAf,QAA+C,MAA/C;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,SAAR,QAAwB,+BAAxB;AACA,SAAQC,gBAAR,EAA0BC,mBAA1B,QAAoD,6BAApD;;AAEA,MAAMC,MAAM,GAAG,MAAmB;AAAA;;AAC9B,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAiC,EAAjC,CAAtC;;AAEA,QAAMW,QAAQ,GAAG,CAACC,KAAD,EAAgBC,KAAhB,KAAyJ;AACtKC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAA,IAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEG,eAAP,GAFsK,CAE7I;;AACzBN,IAAAA,UAAU,CAAC,EAAD,CAAV;AAEAF,IAAAA,QAAQ,CAACJ,SAAS,CAACQ,KAAD,CAAV,CAAR;AAEAN,IAAAA,mBAAmB,CAACM,KAAD,CAAnB;AACH,GARD;;AAUA,QAAMK,eAAe,GAAG,MAAY;AAChC,QAAIR,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAES,MAAb,EAAqB;AACjB;AACH;;AAED,UAAMC,aAAa,GAAGd,gBAAgB,EAAtC;AACA,UAAMe,aAAa,GAAGD,aAAa,CAACE,GAAd,CAAkB,CAACT,KAAD,EAAQU,KAAR,MAAmB;AAACC,MAAAA,GAAG,EAAED,KAAN;AAAaV,MAAAA,KAAb;AAAoBY,MAAAA,KAAK,EAAEZ;AAA3B,KAAnB,CAAlB,CAAtB;AAEAF,IAAAA,UAAU,CAACU,aAAD,CAAV;AACH,GATD;;AAWA,sBAAO,QAAC,YAAD;AACH,IAAA,wBAAwB,EAAE,GADvB;AAEH,IAAA,KAAK,EAAE;AAACK,MAAAA,KAAK,EAAE;AAAR,KAFJ;AAGH,IAAA,OAAO,EAAEhB,OAHN;AAIH,IAAA,OAAO,EAAEQ,eAJN;AAKH,IAAA,QAAQ,EAAEA,eALP;AAMH,IAAA,MAAM,EAAE,MAAMP,UAAU,CAAC,EAAD,CANrB;AAAA,2BAQH,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,WAAW,EAAC,eAAvC;AAAuD,MAAA,WAAW,MAAlE;AAAmE,MAAA,UAAU,MAA7E;AAA8E,MAAA,QAAQ,EAAEC;AAAxF;AAAA;AAAA;AAAA;AAAA;AARG;AAAA;AAAA;AAAA;AAAA,UAAP;AAUH,CAnCD;;GAAMJ,M;UACeJ,W;;;KADfI,M;AAqCN,eAAeA,MAAf","sourcesContent":["import React, {useState} from 'react';\nimport {Input, AutoComplete, SelectProps} from 'antd';\nimport {useDispatch} from \"react-redux\";\nimport {setSearch} from '../../reducers/photos.reducer';\nimport {getSearchResults, updateSearchResults} from \"../../helpers/photos.helper\";\n\nconst Search = (): JSX.Element => {\n    const dispatch = useDispatch();\n    const [options, setOptions] = useState<SelectProps<object>['options']>([]);\n\n    const onSearch = (value: string, event: React.ChangeEvent<HTMLInputElement> | React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLInputElement> | undefined): void => {\n        console.log('event', event)\n        event?.stopPropagation() // it's need for prevent open search results\n        setOptions([])\n\n        dispatch(setSearch(value))\n\n        updateSearchResults(value);\n    };\n\n    const setInputOptions = (): void => {\n        if (options?.length) {\n            return;\n        }\n\n        const searchResults = getSearchResults();\n        const optionsValues = searchResults.map((value, index) => ({key: index, value, label: value}))\n\n        setOptions(optionsValues)\n    }\n\n    return <AutoComplete\n        dropdownMatchSelectWidth={252}\n        style={{width: 300}}\n        options={options}\n        onFocus={setInputOptions}\n        onChange={setInputOptions}\n        onBlur={() => setOptions([])}\n    >\n        <Input.Search size=\"large\" placeholder=\"Search Photos\" enterButton allowClear onSearch={onSearch}/>\n    </AutoComplete>\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}